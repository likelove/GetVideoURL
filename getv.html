<!DOCTYPE HTML>
<html lang="zh">
 <head>
  <meta charset="utf-8" />
  <meta name = "viewport" content = "initial-scale = 1.0, maximum-scale = 1.0, user-scalable = no">
  <title>凿壁偷光</title>
 </head>
 <body style="margin:0px 100px 0px 100px;">
  <header>
    <h1>GFW外在线3X视频地址解析</h1>
  </header>
	<hr />
		<div>
			<span>在线视频播放地址</span><br />
			<input type="text" id="weburl" value="http://" onfocus=" this.select();"  style="width:512px;"/><input type="button" value="解析&获取" onclick="urljx();getv();"/><input type="button" value="组合" onclick="urlzh();"/><br />
			<span>网站</span>
			<select id="webhost" style="width:120px;">
				<option value="xhm">xhamster.com</option>
				<option value="rtb">redtube.com</option>
				<option value="mlt">mylust.com</option>
				<option value="tb8">tube8.com</option>
				<option value="tbc">tubecup.com</option>
				<option value="ypn">youporn.com</option>
			</select><br />
			<span>特征码</span>
			<input type="text" onfocus=" this.select();" id="webcode" value="" style="width:100px;"/>
			<input type="button" value="获取" onclick="getv();" />
		</div>
	<hr />
		<div>
			<span>标题</span>
			<input type="text" id="webtitle" value="" onfocus=" this.select();" style="width:512px;"/><br />
			<span>MP4地址</span><br />
			<input type="text" id="webmp4" value="" onfocus=" this.select();" style="width:1024px;"/><br />
			<span>FLV地址</span><br />
			<input type="text" id="webflv" value="" onfocus=" this.select();" style="width:1024px;"/><br />
			<span>封面图片</span>
			<input type="text" id="webpic" value="" onfocus=" this.select();" style="width:768px;"/><br />
		</div>
		<div id='pic'>图片预览区...</div>
	<hr />
  <footer>
   <p>Cara 2015 制作 PowerBy</p>
<img src="img/logo-1.png" /><img src="img/logo-2.png" /><img src="img/logo-5.png" /><img src="img/logo-6.png" /><br />
<input type="button" value="记录入库" onclick="window.open ('https://php54-feelsix.rhcloud.com/x3vurl/3xvql.php');"/><input type="button" value="浏览历史" onclick="window.open ('https://php54-feelsix.rhcloud.com/x3vurl/3xvdl.php');"/>
   <script type="text/javascript">
		function getv(){
			document.getElementsByTagName("body")[0].style.cursor="wait";
			var url = "https://php54-feelsix.rhcloud.com/x3vurl/index.php?cb=showv&h="+ document.getElementById("webhost").value + "&c=" + document.getElementById("webcode").value;
			var script = document.createElement('script');
			script.type="text/javascript"; 
			script.setAttribute('src', url);
			document.getElementsByTagName('head')[0].appendChild(script);
		}
		function showv(result){
			document.getElementById("webtitle").value=result.title;
			document.getElementById("webmp4").value=result.mp4;
			document.getElementById("webflv").value=result.flv;
			document.getElementById("webpic").value=result.pic;
			document.getElementsByTagName("body")[0].style.cursor="auto";
			loadpic(result.pic);
		}
		function urljx(){
			var patt1=/redtube\.com\/\[0-9]{5,9}/i;
			var patt2=/xhamster\.com\/movies\/[0-9]{5,9}/i;
			var patt3=/mylust\.com\/videos\/[0-9]{5,9}/i;
			var patt4=/youporn\.com\/watch\/[0-9]{5,9}/i;
			urlstr=document.getElementById("weburl").value;
			if(patt1.test(urlstr)){document.getElementById("webhost").value="rtb";}
			if(patt2.test(urlstr)){document.getElementById("webhost").value="xhm";}
			if(patt3.test(urlstr)){document.getElementById("webhost").value="mlt";}
			if(patt4.test(urlstr)){document.getElementById("webhost").value="ypn";}
			document.getElementById("webcode").value=urlstr.match("[0-9]{5,9}")
		}
		function urlzh(){
			if(document.getElementById("webhost").value=="rtb"){document.getElementById("weburl").value='http://www.redtube.com/'+document.getElementById("webcode").value}
			if(document.getElementById("webhost").value=="xhm"){document.getElementById("weburl").value='http://xhamster.com/movies/'+document.getElementById("webcode").value+'/0_1_2.html'}
			if(document.getElementById("webhost").value=="mlt"){document.getElementById("weburl").value='http://mylust.com/videos/'+document.getElementById("webcode").value+'/0_1_2/'}
			if(document.getElementById("webhost").value=="ypn"){document.getElementById("weburl").value='http://www.youporn.com/watch/'+document.getElementById("webcode").value+'/0_1_2/'}
		}
		function loadpic(picurl){
       var imgID = new Image(); 
       imgID.src = picurl; 
       imgID.onload = function(){document.getElementById("pic").innerHTML = "<span>图片预览</span><br /><img style='border-width:5px;border-style:groove;border-color:#FF9999;' src="+imgID.src+" />";}
		}
   </script>
  </footer>
 </body>
</html>
